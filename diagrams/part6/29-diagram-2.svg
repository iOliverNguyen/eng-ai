<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 450" xmlns="http://www.w3.org/2000/svg">
  <!-- High-level goal -->
  <rect x="300" y="20" width="200" height="50" fill="#FFF9C4" stroke="#F57C00" stroke-width="3" rx="5"/>
  <text x="400" y="40" text-anchor="middle" font-size="14" font-weight="bold">Book trip to Paris</text>
  <text x="400" y="58" text-anchor="middle" font-size="11" fill="#666">(High-level goal)</text>

  <!-- Sub-goals level 1 -->
  <rect x="80" y="120" width="160" height="50" fill="#BBDEFB" stroke="#1565C0" stroke-width="2" rx="5"/>
  <text x="160" y="140" text-anchor="middle" font-size="13" font-weight="bold">Find transportation</text>
  <text x="160" y="158" text-anchor="middle" font-size="10" fill="#555">(Sub-goal)</text>

  <rect x="320" y="120" width="160" height="50" fill="#BBDEFB" stroke="#1565C0" stroke-width="2" rx="5"/>
  <text x="400" y="140" text-anchor="middle" font-size="13" font-weight="bold">Find accommodation</text>
  <text x="400" y="158" text-anchor="middle" font-size="10" fill="#555">(Sub-goal)</text>

  <rect x="560" y="120" width="160" height="50" fill="#BBDEFB" stroke="#1565C0" stroke-width="2" rx="5"/>
  <text x="640" y="140" text-anchor="middle" font-size="13" font-weight="bold">Complete booking</text>
  <text x="640" y="158" text-anchor="middle" font-size="10" fill="#555">(Sub-goal)</text>

  <!-- Concrete actions level 2 -->
  <!-- Transportation actions -->
  <rect x="20" y="220" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="85" y="238" text-anchor="middle" font-size="11">search_flights()</text>
  <text x="85" y="253" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <rect x="170" y="220" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="235" y="238" text-anchor="middle" font-size="11">compare_prices()</text>
  <text x="235" y="253" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <!-- Accommodation actions -->
  <rect x="320" y="220" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="385" y="238" text-anchor="middle" font-size="11">search_hotels()</text>
  <text x="385" y="253" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <rect x="470" y="220" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="535" y="238" text-anchor="middle" font-size="11">filter_options()</text>
  <text x="535" y="253" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <!-- Booking actions -->
  <rect x="570" y="220" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="635" y="238" text-anchor="middle" font-size="11">book_flight()</text>
  <text x="635" y="253" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <rect x="570" y="280" width="130" height="40" fill="#C8E6C9" stroke="#388E3C" stroke-width="2" rx="4"/>
  <text x="635" y="298" text-anchor="middle" font-size="11">book_hotel()</text>
  <text x="635" y="313" text-anchor="middle" font-size="9" fill="#555">Action</text>

  <!-- Tool results (dotted boxes) -->
  <rect x="20" y="290" width="280" height="30" fill="#E8F5E9" stroke="#4CAF50" stroke-width="1" stroke-dasharray="3,3" rx="3"/>
  <text x="160" y="309" text-anchor="middle" font-size="10" fill="#2E7D32">Results: Flights May 3-5, 10-12, 17-19</text>

  <rect x="320" y="290" width="280" height="30" fill="#E8F5E9" stroke="#4CAF50" stroke-width="1" stroke-dasharray="3,3" rx="3"/>
  <text x="460" y="309" text-anchor="middle" font-size="10" fill="#2E7D32">Results: 5 hotels €100-€150/night</text>

  <rect x="570" y="340" width="130" height="30" fill="#E8F5E9" stroke="#4CAF50" stroke-width="1" stroke-dasharray="3,3" rx="3"/>
  <text x="635" y="359" text-anchor="middle" font-size="10" fill="#2E7D32">Confirmations</text>

  <!-- Arrows -->
  <defs>
    <marker id="arrowhead-plan" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>

  <!-- Goal to sub-goals -->
  <path d="M 350 70 L 160 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead-plan)"/>
  <path d="M 400 70 L 400 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead-plan)"/>
  <path d="M 450 70 L 640 115" stroke="#666" stroke-width="2" fill="none" marker-end="url(#arrowhead-plan)"/>

  <!-- Sub-goals to actions -->
  <line x1="130" y1="170" x2="85" y2="215" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>
  <line x1="190" y1="170" x2="235" y2="215" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>

  <line x1="370" y1="170" x2="385" y2="215" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>
  <line x1="430" y1="170" x2="535" y2="215" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>

  <line x1="640" y1="170" x2="635" y2="215" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>
  <line x1="640" y1="170" x2="635" y2="275" stroke="#666" stroke-width="1.5" marker-end="url(#arrowhead-plan)"/>

  <!-- Actions to results -->
  <line x1="85" y1="260" x2="160" y2="285" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>
  <line x1="235" y1="260" x2="160" y2="285" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>

  <line x1="385" y1="260" x2="460" y2="285" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>
  <line x1="535" y1="260" x2="460" y2="285" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>

  <line x1="635" y1="260" x2="635" y2="335" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>
  <line x1="635" y1="320" x2="635" y2="335" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="3,3"/>

  <!-- Sequential constraint annotation -->
  <path d="M 305 240 L 315 240" stroke="#D84315" stroke-width="2" marker-end="url(#arrowhead-plan)"/>
  <text x="250" y="235" text-anchor="end" font-size="10" fill="#D84315" font-weight="bold">Sequential</text>
  <text x="250" y="248" text-anchor="end" font-size="10" fill="#D84315" font-weight="bold">dependency</text>

  <!-- Labels -->
  <text x="400" y="420" text-anchor="middle" font-size="12" font-weight="bold" fill="#333">Hierarchical Planning: Goals → Sub-goals → Actions → Results</text>
</svg>