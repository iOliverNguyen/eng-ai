<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="18" font-weight="bold" text-anchor="middle" fill="#333">Multimodal Architecture: Unified Token Processing</text>

  <!-- Three input streams -->
  <!-- Text input -->
  <rect x="50" y="80" width="150" height="80" fill="#e0f2fe" stroke="#0369a1" stroke-width="2" rx="5"/>
  <text x="125" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#0369a1">Text Input</text>
  <text x="125" y="135" font-size="11" text-anchor="middle" fill="#333">"A dog in a park"</text>
  <text x="125" y="150" font-size="10" text-anchor="middle" fill="#666">→ BPE tokens</text>

  <!-- Image input -->
  <rect x="325" y="80" width="150" height="80" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="5"/>
  <text x="400" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#d97706">Image Input</text>
  <text x="400" y="135" font-size="11" text-anchor="middle" fill="#333">224×224 photo</text>
  <text x="400" y="150" font-size="10" text-anchor="middle" fill="#666">→ 196 patch tokens</text>

  <!-- Audio input -->
  <rect x="600" y="80" width="150" height="80" fill="#fce7f3" stroke="#be185d" stroke-width="2" rx="5"/>
  <text x="675" y="110" font-size="14" font-weight="bold" text-anchor="middle" fill="#be185d">Audio Input</text>
  <text x="675" y="135" font-size="11" text-anchor="middle" fill="#333">10-sec speech</text>
  <text x="675" y="150" font-size="10" text-anchor="middle" fill="#666">→ 500 spectrogram tokens</text>

  <!-- Arrows to embeddings -->
  <path d="M 125,160 L 125,200" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 400,160 L 400,200" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 675,160 L 675,200" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Embedding layers -->
  <rect x="50" y="210" width="150" height="40" fill="#dbeafe" stroke="#1e40af" stroke-width="2" rx="5"/>
  <text x="125" y="235" font-size="12" text-anchor="middle" fill="#1e40af">Text Embeddings</text>

  <rect x="325" y="210" width="150" height="40" fill="#fef3c7" stroke="#d97706" stroke-width="2" rx="5"/>
  <text x="400" y="235" font-size="12" text-anchor="middle" fill="#d97706">Image Embeddings</text>

  <rect x="600" y="210" width="150" height="40" fill="#fce7f3" stroke="#be185d" stroke-width="2" rx="5"/>
  <text x="675" y="235" font-size="12" text-anchor="middle" fill="#be185d">Audio Embeddings</text>

  <!-- Arrows to unified transformer -->
  <path d="M 125,250 L 250,300" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 400,250 L 400,300" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <path d="M 675,250 L 550,300" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Unified Transformer -->
  <rect x="250" y="310" width="300" height="80" fill="#e9d5ff" stroke="#7c3aed" stroke-width="3" rx="5"/>
  <text x="400" y="340" font-size="16" font-weight="bold" text-anchor="middle" fill="#7c3aed">Unified Transformer</text>
  <text x="400" y="365" font-size="12" text-anchor="middle" fill="#333">Self-Attention + Feedforward</text>
  <text x="400" y="380" font-size="11" text-anchor="middle" fill="#666">Processes all token types identically</text>

  <!-- Arrow to output -->
  <path d="M 400,390 L 400,430" fill="none" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Output -->
  <rect x="250" y="440" width="300" height="40" fill="#dcfce7" stroke="#16a34a" stroke-width="2" rx="5"/>
  <text x="400" y="465" font-size="13" font-weight="bold" text-anchor="middle" fill="#16a34a">Shared Embedding Space</text>

  <!-- Arrowhead marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666"/>
    </marker>
  </defs>
</svg>